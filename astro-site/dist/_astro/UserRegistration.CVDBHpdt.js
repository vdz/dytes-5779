import{j as e}from"./jsx-runtime.TBa3i5EZ.js";import{r as l}from"./index.CVf8TyFT.js";import{D as r}from"./ui-display-modes.B23pBYFS.js";import{a as m}from"./contentful-management.kd8tc3DM.js";function g(){const[o,t]=l.useState(r.normal),[u,s]=l.useState(""),a=l.useRef(null),n=l.useRef(null),i=()=>o===r.normal?null:e.jsx("div",{className:"message",children:u}),c=async()=>{if(t(r.normal),!a.current?.value){t(r.error),s("אנא מלא את שמך המלא לצורך התקשרות");return}if(!n.current?.value){t(r.error),s("אנא מלא את כתובת הדואל האלקטרוני שלך לצורך התקשרות");return}t(r.processing),s("שומר נתונים");try{await m("user",{name:a.current.value,email:n.current.value}),t(r.done),s("תודה. שמרתנו ..."),a.current&&(a.current.value=""),n.current&&(n.current.value=""),setTimeout(()=>{t(r.normal),s("")},3e3)}catch{t(r.error),s("שגיאה בשמירה")}};return e.jsxs("div",{className:`Registration Content mode-${o}`,children:[e.jsx("h3",{className:"title",children:"הרשמה לרשימת הדיוור"}),i(),e.jsx("label",{children:"שם מלא (פרטי ומשפחה)"}),e.jsx("input",{type:"text",defaultValue:"",ref:a}),e.jsx("label",{children:"כתובת דואר אלקטרוני"}),e.jsx("input",{type:"email",defaultValue:"",ref:n}),e.jsx("div",{className:"footer",children:e.jsx("button",{className:"register outline",onClick:c,children:"הרשמה"})})]})}export{g as default};
